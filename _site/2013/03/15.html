<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="直接从硬盘引导，从最小化字符界面开始安装系统。然后根据自己喜好，定制软件，安装图形化界面。" />
    <meta name="author" content="唐久军">
    
    <link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="/assets/css/blog.css">
    <script type="text/javascript" src="/assets/js/blog.js"></script>

    <title>从字符界面最小化安装 Debian 系统</title>

    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-39325120-3']);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
      </script>

  </head>

  <body>
<div class="nav nav-fix-top">
    <div class="navbar-panel">
        <div class="brand">
            <a href="/" class="light">唐久军的博客</a>
        </div>

        <div class="catalog pull-right">
            <ul>
                <li><a href="/categories.html">分类</a></li>
                <li><a href="/tags.html">标签</a></li>
                <li><a href="/projects.html">项目</a></li>
                <li><a href="/archives.html">归档</a></li>
                <li><a href="/about_me.html">关于我</a></li>
            </ul>
        </div>
    </div>
</div>

<!-- 防止 IE6、7 中定位元素导致相邻元素 margin-top 失效 -->
<div style="height: 0px"></div>
  <div class="well well-header">
      <ul>
          <li  class="badge badge-info badge-large pull-right">
            <a href="/categories.html?#anchor系统">分类：系统</a></li>
      </ul>
      <ul>
        
          <li  class="badge badge-inverse pull-right">
              <a href="/tags.html?#anchorDebian">Debian</a>
          </li>
        
      </ul>

      <a class="time-backgroud"></a>
      <span class="time-meta">2013年03月15日</span>
      <h1>从字符界面最小化安装 Debian 系统</h1>
      <hr>
      <p>直接从硬盘引导，从最小化字符界面开始安装系统。然后根据自己喜好，定制软件，安装图形化界面。</p>
  </div>

  <div class="well">
    <h3>硬盘引导</h3>

<ol>
<li><p>准备文件：EasyBCD(双系统引导工具)，debian.iso，<a href="http://http.us.debian.org/debian/dists/stable/main/installer-amd64/current/images/hd-media/">initrd.gz，vmlinuz</a>
注意：必须是镜像网站上下的硬盘启动文件。而不是从 debian.iso 中解压出来的文件，否则会引导失败。</p></li>
<li><p>打开 EasyBCD -&gt; 添加新条目 -&gt; NeoGrub -&gt; 安装 -&gt; 配置，在打开的 menu.lst 文件中加上如下内容：</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">timeout 5
default 0

title Debian install
root (hd0,5)     # 把 initrd.gz，vmlinuz 放于 D 盘根目录
kernel /vmlinuz
initrd /initrd.gz
boot
</code></pre></div>
<p>如果您不了解如(hd0,5)之类的分区表示方法，可以参考 <a href="http://linux-wiki.cn/wiki/Grub%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA%E8%A1%A8%E7%A4%BA%E6%96%B9%E6%B3%95">Grub磁盘分区表示方法</a></p></li>
<li><p>把 debian.iso 镜像放在 硬盘 或者 U盘的根目录下</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">注意：镜像所在的分区必须是 Fat32，否则无法检测到硬盘
</code></pre></div></li>
</ol>

<h3>安装过程</h3>

<p>安装过程最好不要联网，否则可能会在线更新导致安装较慢。安装步骤如下：</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">install -&gt; 简体中文 -&gt; Asia China -&gt; American English -&gt; 暂不设置网络 -&gt; 设置 root 用户密码 -&gt; 设置 新用户及密码 -&gt; 分区 -&gt; 然后软件只选择标准系统工具 -&gt; 然后安装 grub 后重启就进入到字符界面的系统了。
</code></pre></div>
<p>如果以前没有装过 debian 的建议搜索下 Debian 安装的图文教程，并了解下 Linux 系统安装时怎么分区合理</p>

<h3>配置网络和源</h3>

<ol>
<li><p>配置网络
修改 /etc/network/interface 内容如下：</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">auto lo
iface lo inet loopback

auto eth0
iface eth0 inet dhcp
</code></pre></div>
<p>然后执行命令 <code>sudo service networking start</code></p></li>
<li><p>配置并更新软件源
修改 /etc/apt/sources.list 内容如下：</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">deb http://mirrors.163.com/debian/ squeeze main non-free contrib
deb http://mirrors.163.com/debian/ squeeze-proposed-updates main non-free contrib
deb-src http://mirrors.163.com/debian/ squeeze main non-free contrib
deb-src http://mirrors.163.com/debian/ squeeze-proposed-updates main non-free contrib
</code></pre></div>
<p>然后开始更新系统：</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">apt-get update
apt-get upgrade
</code></pre></div></li>
</ol>

<h3>安装图形化界面</h3>

<ol>
<li><p>安装 openbox 及基本软件</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">aptitude install xinit openbox tint2 slim network-manager-gnome feh gnome-terminal
openbox 及其增强功能：openbox
使用 startx 命令：xinit
登录器：slim
网络管理：network-manager-gnome
底部面板：tint2
壁纸：feh
终端: gnome-terminal
</code></pre></div></li>
<li><p>配置以进入图形化界面</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">新建 ~/.xinitrc，加入“exec openbox-session”，然后就可以执行 startx 启动图形化界面

mkdir ~/.config
cp -rf /etc/xdg/openbox/ ~/.config

在 ~/.config/openbox/autostart 文件末加入：
feh --bg-scale /path/to/your_wallpaper.png &amp;
tint2 &amp;
nm-applet &amp;
</code></pre></div></li>
</ol>

<h3>常用软件安装配置</h3>

<ol>
<li><p>安装配置 sudo</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">aptitude install sudo
修改 /etc/sudoers，加入 aaa   ALL=(ALL:ALL) ALL   #aaa是普通用户
</code></pre></div></li>
<li><p>安装配置 zsh</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">aptitude install zsh
在网上找一个 zsh 的配置放到 用户目录下并改名为 .zshrc
</code></pre></div></li>
<li><p>安装 输入法 及常用软件</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">输入法: ibus ibus-sunpinyin
Flash 插件: flashplugin-nonfree
浏览器: iceweasel iceweasel-l10n-zh-cn xul-ext-firebug chromium
播放器: mplayer2 audacious
系统监控软件: conky
</code></pre></div></li>
<li><p>安装系统字体</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">aptitude install ttf-wqy-microhei ttf-wqy-zenhei
</code></pre></div></li>
<li><p>声卡驱动安装</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">sudo apt-get install alsa-base alsa-utils
sudo alsactl init
</code></pre></div></li>
<li><p>同步系统时间</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">sudo ntpdate ntp.ubuntu.com
sudo hwclock -w
</code></pre></div></li>
</ol>

  </div>

  <!-- 底部导航条 -->
  <div class="nav nav-fix-bottom"  id="nav-fix-bottom">
      <div class="navbar-panel">
          <div id="page-nav-list" class="catalog pull-left"></div>
      </div>
  </div>

  <link rel="stylesheet" type="text/css" href="/assets/css/monokai.min.css">
  <script type="text/javascript" src="/assets/js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

<!-- duoshuo div -->
<div class="well">
  <div class="ds-thread"></div>
</div>

<!-- Duoshuo Comment BEGIN -->
<script type="text/javascript">
  var duoshuoQuery = {short_name:"tang-blog"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- Duoshuo Comment END -->
<!-- Baidu Button BEGIN -->
<script type="text/javascript" id="bdshare_js" data="type=slide&amp;img=5&amp;mini=1&amp;pos=left&amp;uid=6635097" ></script>
<script type="text/javascript" id="bdshell_js"></script>
<script type="text/javascript">
document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000);
</script>
<!-- Baidu Button END -->
    <div class="footer">
      &copy; 2013 唐久军 - Crafted with 
        <a href="http://jekyllrb.com/"><strong>Jekyll</strong></a>, Hosted on 
        <strong><a href="https://github.com/">GitHub</a></strong>
        | 转载请遵守 <a href="http://creativecommons.org/licenses/by-sa/3.0/cn/">CC BY-SA 3.0</a> 协议
        <span class="pull-right">
          <strong>
            <a href="https://github.com/tangjiujun">Fork me on GitHub </a>
          </strong>
        </span>
    </div>
  </body>
</html>
